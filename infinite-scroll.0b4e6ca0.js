!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequiree6b9;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequiree6b9=a);var o=a("bpxeT"),i=a("2TvXO"),u=a("1zY8r"),s=a("ckYVG"),c=a("6JpON"),l=a("5IjG7"),f=new(0,s.PixabayAPI),p={form:document.querySelector(".search-form"),input:document.querySelector(".form-input"),submitBtn:document.querySelector(".search-btn"),gallery:document.querySelector(".gallery"),sentinel:document.querySelector(".sentinel")};p.form.addEventListener("submit",(function(e){return v.apply(this,arguments)}));var y,d=0,h=0;function v(){return(v=e(o)(e(i).mark((function t(r){return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.disconnect(p.sentinel),r.preventDefault(),f.page=1,p.gallery.innerHTML="",""!==p.input.value.trim()){t.next=8;break}return e(c).Notify.failure("Sorry, your search query is empty. Please try again."),p.input.value="",t.abrupt("return");case 8:return d=0,f.query=p.input.value.trim(),t.prev=10,t.next=13,f.fetchPhotos();case 13:b(t.sent.data),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(10);case 20:p.input.value="",m.observe(p.sentinel);case 22:case"end":return t.stop()}}),t,null,[[10,17]])})))).apply(this,arguments)}function g(){return(g=e(o)(e(i).mark((function t(){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.destroy(),e.prev=1,e.next=4,f.fetchPhotos();case 4:b(e.sent.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}function b(t){0!==t.total&&""!==f.query?(1===f.page&&t.totalHits>0&&(e(c).Notify.info("Hooray! We found ".concat(t.totalHits," images.")),h=t.totalHits),f.page+=1,function(e){p.gallery.insertAdjacentHTML("beforeend",(0,u.default)(e.hits)),d+=e.hits.length}(t),(y=new(e(l))(".gallery a",{captionDelay:250})).refresh(),d>=500&&e(c).Notify.info("We're sorry, but you've reached the end of search results.")):e(c).Notify.failure("Sorry, there are no images matching your search query. Please try again.")}var m=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&""!==f.query&&d<h&&function(){g.apply(this,arguments)}()}))}),{rootMargin:"200px"});m.observe(p.sentinel)}();
//# sourceMappingURL=infinite-scroll.0b4e6ca0.js.map
