function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},n=t.parcelRequiree6b9;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequiree6b9=n);var a=n("4TmbC"),i=n("dgPer"),l=n("7Y9D8"),s=n("fZKcF");const d=new(0,i.PixabayAPI),u={form:document.querySelector(".search-form"),input:document.querySelector(".form-input"),submitBtn:document.querySelector(".search-btn"),gallery:document.querySelector(".gallery"),loadBtn:document.querySelector(".load-more")};u.form.addEventListener("submit",(async function(t){if(t.preventDefault(),u.gallery.innerHTML="",""===u.input.value.trim())return e(l).Notify.failure("Sorry, your search query is empty. Please try again."),void(u.input.value="");f=0,d.page=1,d.query=u.input.value.trim();try{const{data:e}=await d.fetchPhotos();y(e)}catch(e){}u.input.value=""})),u.loadBtn.addEventListener("click",(async function(){c.destroy();try{const{data:e}=await d.fetchPhotos();y(e)}catch(e){}const{height:e}=u.gallery.firstElementChild.getBoundingClientRect();window.scrollBy({top:1.8*e,behavior:"smooth"})}));let c,f=0;function y(t){return 0===t.total||""===d.query?(e(l).Notify.failure("Sorry, there are no images matching your search query. Please try again."),void u.loadBtn.classList.add("is-hidden")):(1===d.page&&t.totalHits>0&&e(l).Notify.info(`Hooray! We found ${t.totalHits} images.`),d.page+=1,function(e){u.gallery.insertAdjacentHTML("beforeend",(0,a.default)(e.hits)),f+=e.hits.length,u.loadBtn.classList.remove("is-hidden")}(t),c=new(e(s))(".gallery a",{captionDelay:250}),c.refresh(),f>=500?(u.loadBtn.classList.add("is-hidden"),void e(l).Notify.info("We're sorry, but you've reached the end of search results.")):void(t.totalHits===f&&t.totalHits>0&&(u.loadBtn.classList.add("is-hidden"),e(l).Notify.info("We're sorry, but you've reached the end of search results."))))}
//# sourceMappingURL=index.8ba2c573.js.map
