!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequiree6b9;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequiree6b9=a);var o=a("bpxeT"),i=a("2TvXO"),s=a("1zY8r"),u=a("ckYVG"),l=a("6JpON"),c=a("5IjG7"),d=new(0,u.PixabayAPI),f={form:document.querySelector(".search-form"),input:document.querySelector(".form-input"),submitBtn:document.querySelector(".search-btn"),gallery:document.querySelector(".gallery"),loadBtn:document.querySelector(".load-more")};f.form.addEventListener("submit",(function(e){return h.apply(this,arguments)})),f.loadBtn.addEventListener("click",(function(){return v.apply(this,arguments)}));var p,y=0;function h(){return(h=e(o)(e(i).mark((function t(r){return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),f.gallery.innerHTML="",""!==f.input.value.trim()){t.next=6;break}return e(l).Notify.failure("Sorry, your search query is empty. Please try again."),f.input.value="",t.abrupt("return");case 6:return y=0,d.page=1,d.query=f.input.value.trim(),t.prev=9,t.next=12,d.fetchPhotos();case 12:m(t.sent.data),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9);case 19:f.input.value="";case 20:case"end":return t.stop()}}),t,null,[[9,16]])})))).apply(this,arguments)}function v(){return(v=e(o)(e(i).mark((function t(){var r,n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.destroy(),e.prev=1,e.next=4,d.fetchPhotos();case 4:m(e.sent.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1);case 11:r=f.gallery.firstElementChild.getBoundingClientRect(),n=r.height,window.scrollBy({top:1.8*n,behavior:"smooth"});case 13:case"end":return e.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}function m(t){return 0===t.total||""===d.query?(e(l).Notify.failure("Sorry, there are no images matching your search query. Please try again."),void f.loadBtn.classList.add("is-hidden")):(1===d.page&&t.totalHits>0&&e(l).Notify.info("Hooray! We found ".concat(t.totalHits," images.")),d.page+=1,function(e){f.gallery.insertAdjacentHTML("beforeend",(0,s.default)(e.hits)),y+=e.hits.length,f.loadBtn.classList.remove("is-hidden")}(t),(p=new(e(c))(".gallery a",{captionDelay:250})).refresh(),y>=500?(f.loadBtn.classList.add("is-hidden"),void e(l).Notify.info("We're sorry, but you've reached the end of search results.")):void(t.totalHits===y&&t.totalHits>0&&(f.loadBtn.classList.add("is-hidden"),e(l).Notify.info("We're sorry, but you've reached the end of search results."))))}}();
//# sourceMappingURL=index.8b2a7ab6.js.map
